<!DOCTYPE html>
<html>
  <head>
    <title>Attendance System</title>
    <link rel="stylesheet" href="check.css" />
  </head>
  <body>
    <div class="dashboard" id="dashboard">
      <div class="subdash">
        <img src="img/wootlab.png" alt="" class="logo2" />
        <header id="staff-container">
          <img
            src="img/blue flower.jpeg"
            alt=""
            class="profilepicture"
            id="profile-picture"
          />
          <div class="profileinfo">
            <h2 id="user-name">WOOTLAB</h2>
            <p id="user-role">Attendance System</p>
          </div>
          <div class="datetime">
            <p id="current-date">June 7, 2024</p>
            <p id="current-time">10:30 AM</p>
          </div>
        </header>

        <div>
          <form id="search-form" onsubmit="searchStaff(event)">
            <label for=""
              >Staff ID:<input
                type="search"
                id="staff-id"
                name="search"
                class="staff"
              />
              <input class="search" type="submit" value="search" />
            </label>
          </form>
          <nav>
            <ul>
              <li><a href="login.html" id="admin-link">Admin</a></li>
              <li>
                <a
                  href="attendance.html"
                  id="attendance-history-link"
                  onclick="showAttendanceHistory()"
                  >Attendance History</a
                >
              </li>
            </ul>
          </nav>
        </div>

        <main id="staff-info" style="display: none">
          <div class="attendancestatus">
            <button class="checkin" onclick="checkIn()">Check-In</button>
            <!-- <button class="checkout" onclick="checkOut()">Check-Out</button> -->
            <div class="status">
              <p>Last Check-In:<span id="last-check-in">N/A</span></p>
              <p>Last Check-Out:<span id="last-check-out" .>N/A</span></p>
              <p>Total Hours: <span id="total-hours">0.0 hrs</span></p>
            </div>
          </div>

          <nav>
            <ul>
              <li><a href="#">Home</a></li>
              <!-- <li><a href="attendance.html" id="attendance">Attendance History</a></li> -->
              <li><a href="#">Settings</a></li>
              <li><a href="index.html" onclick="logout()">BACK</a></li>
            </ul>
          </nav>
        </main>
      </div>
    </div>
   <div id="chatbot-root"></div> <!-- The div where the chatbot will appear -->

<script>
  (function() {
    var script = document.createElement('script');
    script.src = "/chatbot-widget.js"; // The URL to your bundled file
    script.async = true;
    script.onload = function() {
      if (window.ChatbotWidget) {
        // Initialize the chatbot with configuration
        ChatbotWidget.init({
          buttonColor: "#007bff",
          chatBackground: "#fff",
          userMessageColor: "#007bff",
          botMessageColor: "#333",
          knowledgeBase: "https://example.com/knowledge-base", // Customize as per your need
          targetElementId: 'chatbot-root' // ID of the element to attach the chatbot
        });
      } else {
        console.error('ChatbotWidget failed to load.');
      }
    };
    document.body.appendChild(script);
  })();
</script>

    
    
    <script>
      if ("serviceWorker" in navigator && !navigator.serviceWorker.controller) {
        console.log(navigator.serviceWorker.controller, " Is controller");
        window.addEventListener("load", async () => {
          try {
            const version = Math.random().toString(36).substring(7);
            const registration = await navigator.serviceWorker.register(
              `/sw.js?v=${version}`
            );
            console.log("Service Worker registered", registration.scope);
          } catch (error) {
            console.error("Service Worker registration failed", error);
          }
        });
      }
    </script>

    <script src="attendance.js"></script>
  </body>
</html>
